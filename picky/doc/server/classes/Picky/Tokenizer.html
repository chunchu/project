<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Picky::Tokenizer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Picky::Tokenizer 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/picky/tokenizer_rb.html">lib/picky/tokenizer.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Defines tokenizing processes used both in indexing and querying.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000337">cap</a>,</li>
                
                <li><a href="#M000338">cap?</a>,</li>
                
                <li><a href="#M000332">case_sensitive</a>,</li>
                
                <li><a href="#M000339">check_argument_in</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000335">downcase?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000345">empty_tokens</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000314">index_default</a>,</li>
                
                <li><a href="#M000313">index_default=</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000336">maximum_tokens</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000340">new</a>,</li>
                
                <li><a href="#M000326">normalize_with_patterns</a>,</li>
                
                <li><a href="#M000327">normalize_with_patterns?</a>,</li>
                
                <li><a href="#M000325">normalizes_words</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000342">preprocess</a>,</li>
                
                <li><a href="#M000343">pretokenize</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M000316">query_default</a>,</li>
                
                <li><a href="#M000315">query_default=</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000331">reject</a>,</li>
                
                <li><a href="#M000330">rejects_token_if</a>,</li>
                
                <li><a href="#M000322">remove_illegals</a>,</li>
                
                <li><a href="#M000320">remove_non_single_stopwords</a>,</li>
                
                <li><a href="#M000319">remove_stopwords</a>,</li>
                
                <li><a href="#M000321">removes_characters</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000324">split</a>,</li>
                
                <li><a href="#M000323">splits_text_on</a>,</li>
                
                <li><a href="#M000318">stopwords</a>,</li>
                
                <li><a href="#M000329">substitute_characters</a>,</li>
                
                <li><a href="#M000328">substitutes_characters_with</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000317">to_s</a>,</li>
                
                <li><a href="#M000341">tokenize</a>,</li>
                
                <li><a href="#M000344">tokens_for</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">EMPTY_STRING</td>
            <td>=</td>
            <td class="attr-value">''.freeze</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
TODO Move <a href="Tokenizer.html#EMPTY_STRING">EMPTY_STRING</a> top level.
</p>
</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>substituter</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000314">
                    
                    <a name="M000314"></a><b>index_default</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000314_source')" id="l_M000314_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L12" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000314_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 12</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">index_default</span>
      <span class="ruby-ivar">@index_default</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">new</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000313">
                    
                    <a name="M000313"></a><b>index_default=</b>(new_default)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000313_source')" id="l_M000313_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L9" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000313_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 9</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">index_default=</span> <span class="ruby-identifier">new_default</span>
      <span class="ruby-ivar">@index_default</span> = <span class="ruby-identifier">new_default</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000340">
                    
                    <a name="M000340"></a><b>new</b>(options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000340_source')" id="l_M000340_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L158" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000340_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 158</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">options</span> = {}
      <span class="ruby-identifier">substitutes_characters_with</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:substitutes_characters_with</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:substitutes_characters_with</span>]
      <span class="ruby-identifier">removes_characters</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:removes_characters</span>]                   <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:removes_characters</span>]
      <span class="ruby-identifier">stopwords</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:stopwords</span>]                                     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:stopwords</span>]
      <span class="ruby-identifier">splits_text_on</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:splits_text_on</span>]                           <span class="ruby-operator">||</span> <span class="ruby-regexp re">/\s/</span>
      <span class="ruby-identifier">normalizes_words</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:normalizes_words</span>]                       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:normalizes_words</span>]
      <span class="ruby-identifier">maximum_tokens</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:maximum_tokens</span>]
      <span class="ruby-identifier">rejects_token_if</span> <span class="ruby-operator">&amp;</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:rejects_token_if</span>]                     <span class="ruby-operator">||</span> <span class="ruby-identifier">:blank?</span>)
      <span class="ruby-identifier">case_sensitive</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:case_sensitive</span>]                           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:case_sensitive</span>].<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000316">
                    
                    <a name="M000316"></a><b>query_default</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000316_source')" id="l_M000316_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L19" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000316_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 19</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query_default</span>
      <span class="ruby-ivar">@query_default</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">new</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000315">
                    
                    <a name="M000315"></a><b>query_default=</b>(new_default)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000315_source')" id="l_M000315_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L16" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000315_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 16</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query_default=</span> <span class="ruby-identifier">new_default</span>
      <span class="ruby-ivar">@query_default</span> = <span class="ruby-identifier">new_default</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000337">
                    
                    <a name="M000337"></a><b>cap</b>(words)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000337_source')" id="l_M000337_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L142" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000337_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 142</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cap</span> <span class="ruby-identifier">words</span>
      <span class="ruby-identifier">words</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-ivar">@maximum_tokens</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cap?</span>(<span class="ruby-identifier">words</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000338">
                    
                    <a name="M000338"></a><b>cap?</b>(words)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000338_source')" id="l_M000338_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L145" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000338_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 145</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cap?</span> <span class="ruby-identifier">words</span>
      <span class="ruby-ivar">@maximum_tokens</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@maximum_tokens</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000332">
                    
                    <a name="M000332"></a><b>case_sensitive</b>(case_sensitive)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000332_source')" id="l_M000332_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L132" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000332_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 132</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">case_sensitive</span> <span class="ruby-identifier">case_sensitive</span>
      <span class="ruby-ivar">@case_sensitive</span> = <span class="ruby-identifier">case_sensitive</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000339">
                    
                    <a name="M000339"></a><b>check_argument_in</b>(method, type, argument, &amp;condition)
                    
                </div>
                
                <div class="description">
                  <p>
Checks if the right argument type has been given.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000339_source')" id="l_M000339_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L151" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000339_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 151</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_argument_in</span> <span class="ruby-identifier">method</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">argument</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">condition</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span> <span class="ruby-node">&quot;Application##{method} takes a #{type} as argument, not a #{argument.class}.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">argument</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000335">
                    
                    <a name="M000335"></a><b>downcase?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000335_source')" id="l_M000335_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L135" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000335_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 135</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">downcase?</span>
      <span class="ruby-operator">!</span><span class="ruby-ivar">@case_sensitive</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000345">
                    
                    <a name="M000345"></a><b>empty_tokens</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns empty tokens.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000345_source')" id="l_M000345_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L226" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000345_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 226</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty_tokens</span>
      [[], []]
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000336">
                    
                    <a name="M000336"></a><b>maximum_tokens</b>(amount)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000336_source')" id="l_M000336_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L139" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000336_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 139</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">maximum_tokens</span> <span class="ruby-identifier">amount</span>
      <span class="ruby-ivar">@maximum_tokens</span> = <span class="ruby-identifier">amount</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000326">
                    
                    <a name="M000326"></a><b>normalize_with_patterns</b>(text)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000326_source')" id="l_M000326_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L96" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000326_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 96</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize_with_patterns</span> <span class="ruby-identifier">text</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@normalizes_words_regexp_replaces</span>

      <span class="ruby-ivar">@normalizes_words_regexp_replaces</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">regex</span>, <span class="ruby-identifier">replace</span><span class="ruby-operator">|</span>
        <span class="ruby-comment cmt"># This should be sufficient</span>
        <span class="ruby-comment cmt">#</span>
        <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">replace</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">break</span>
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-identifier">text</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000327">
                    
                    <a name="M000327"></a><b>normalize_with_patterns?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000327_source')" id="l_M000327_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L107" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000327_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 107</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize_with_patterns?</span>
      <span class="ruby-ivar">@normalizes_words_regexp_replaces</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000325">
                    
                    <a name="M000325"></a><b>normalizes_words</b>(regexp_replaces)
                    
                </div>
                
                <div class="description">
                  <p>
Normalizing.
</p>
<p>
We only allow arrays.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000325_source')" id="l_M000325_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L92" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000325_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 92</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalizes_words</span> <span class="ruby-identifier">regexp_replaces</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span> <span class="ruby-node">&quot;#{__method__} takes an Array of replaces as argument, not a #{regexp_replaces.class}.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">regexp_replaces</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_ary</span>)
      <span class="ruby-ivar">@normalizes_words_regexp_replaces</span> = <span class="ruby-identifier">regexp_replaces</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000342">
                    
                    <a name="M000342"></a><b>preprocess</b>(text)
                    
                </div>
                
                <div class="description">
                  <p>
Default preprocessing hook.
</p>
<p>
Does:
</p>
<ol>
<li>Character substitution.

</li>
<li>Remove illegal expressions.

</li>
<li>Remove non-single stopwords. (Stopwords that occur with other words)

</li>
</ol>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000342_source')" id="l_M000342_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L191" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000342_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 191</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">preprocess</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">text</span> = <span class="ruby-identifier">substitute_characters</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">remove_illegals</span> <span class="ruby-identifier">text</span>
      <span class="ruby-comment cmt"># We do not remove single stopwords e.g. in the indexer for</span>
      <span class="ruby-comment cmt"># an entirely different reason than in the query tokenizer.</span>
      <span class="ruby-comment cmt"># An indexed thing with just name &quot;UND&quot; (a possible stopword)</span>
      <span class="ruby-comment cmt"># should not lose its name.</span>
      <span class="ruby-comment cmt">#</span>
      <span class="ruby-identifier">remove_non_single_stopwords</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">text</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000343">
                    
                    <a name="M000343"></a><b>pretokenize</b>(text)
                    
                </div>
                
                <div class="description">
                  <p>
Pretokenizing.
</p>
<p>
Does:
</p>
<pre>
 * Split the text into words.
 * Cap the amount of tokens if maximum_tokens is set.
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000343_source')" id="l_M000343_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L209" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000343_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 209</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pretokenize</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">words</span> = <span class="ruby-identifier">split</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">words</span>.<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">word</span><span class="ruby-operator">|</span> <span class="ruby-identifier">normalize_with_patterns</span> <span class="ruby-identifier">word</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">normalize_with_patterns?</span>
      <span class="ruby-identifier">reject</span> <span class="ruby-identifier">words</span>
      <span class="ruby-identifier">cap</span> <span class="ruby-identifier">words</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cap?</span>(<span class="ruby-identifier">words</span>)
      <span class="ruby-identifier">words</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000331">
                    
                    <a name="M000331"></a><b>reject</b>(tokens)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000331_source')" id="l_M000331_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L128" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000331_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 128</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reject</span> <span class="ruby-identifier">tokens</span>
      <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-operator">&amp;</span><span class="ruby-ivar">@reject_condition</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000330">
                    
                    <a name="M000330"></a><b>rejects_token_if</b>(&amp;condition)
                    
                </div>
                
                <div class="description">
                  <p>
Reject tokens after tokenizing based on the given criteria.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000330_source')" id="l_M000330_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L125" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000330_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 125</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rejects_token_if</span> <span class="ruby-operator">&amp;</span><span class="ruby-identifier">condition</span>
      <span class="ruby-ivar">@reject_condition</span> = <span class="ruby-identifier">condition</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000322">
                    
                    <a name="M000322"></a><b>remove_illegals</b>(text)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000322_source')" id="l_M000322_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L70" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000322_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 70</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_illegals</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span> <span class="ruby-ivar">@removes_characters_regexp</span>, <span class="ruby-constant">EMPTY_STRING</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@removes_characters_regexp</span>
      <span class="ruby-identifier">text</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000320">
                    
                    <a name="M000320"></a><b>remove_non_single_stopwords</b>(text)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000320_source')" id="l_M000320_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L55" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000320_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 55</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_non_single_stopwords</span> <span class="ruby-identifier">text</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@remove_stopwords_regexp</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">match</span> <span class="ruby-ivar">@@non_single_stopword_regexp</span>
      <span class="ruby-identifier">remove_stopwords</span> <span class="ruby-identifier">text</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000319">
                    
                    <a name="M000319"></a><b>remove_stopwords</b>(text)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000319_source')" id="l_M000319_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L50" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000319_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 50</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_stopwords</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span> <span class="ruby-ivar">@remove_stopwords_regexp</span>, <span class="ruby-constant">EMPTY_STRING</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@remove_stopwords_regexp</span>
      <span class="ruby-identifier">text</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000321">
                    
                    <a name="M000321"></a><b>removes_characters</b>(regexp)
                    
                </div>
                
                <div class="description">
                  <p>
Illegals.
</p>
<p>
We only allow regexps (even if string would be okay too for gsub! -
it&#8217;s too hard to understand)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000321_source')" id="l_M000321_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L66" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000321_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 66</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">removes_characters</span> <span class="ruby-identifier">regexp</span>
      <span class="ruby-identifier">check_argument_in</span> <span class="ruby-identifier">__method__</span>, <span class="ruby-constant">Regexp</span>, <span class="ruby-identifier">regexp</span>
      <span class="ruby-ivar">@removes_characters_regexp</span> = <span class="ruby-identifier">regexp</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000324">
                    
                    <a name="M000324"></a><b>split</b>(text)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000324_source')" id="l_M000324_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L84" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000324_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 84</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">text</span>.<span class="ruby-identifier">split</span> <span class="ruby-ivar">@splits_text_on</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000323">
                    
                    <a name="M000323"></a><b>splits_text_on</b>(regexp_or_string)
                    
                </div>
                
                <div class="description">
                  <p>
Splitting.
</p>
<p>
We allow Strings and Regexps. Note: We do not test against to_str since
symbols do not work with String#split.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000323_source')" id="l_M000323_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L80" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000323_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 80</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">splits_text_on</span> <span class="ruby-identifier">regexp_or_string</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span> <span class="ruby-node">&quot;#{__method__} takes a Regexp or String as argument, not a #{regexp_or_string.class}.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Regexp</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">regexp_or_string</span> <span class="ruby-operator">||</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">regexp_or_string</span>
      <span class="ruby-ivar">@splits_text_on</span> = <span class="ruby-identifier">regexp_or_string</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000318">
                    
                    <a name="M000318"></a><b>stopwords</b>(regexp)
                    
                </div>
                
                <div class="description">
                  <p>
Stopwords.
</p>
<p>
We only allow regexps (even if string would be okay too for gsub! -
it&#8217;s too hard to understand)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000318_source')" id="l_M000318_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L46" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000318_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 46</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stopwords</span> <span class="ruby-identifier">regexp</span>
      <span class="ruby-identifier">check_argument_in</span> <span class="ruby-identifier">__method__</span>, <span class="ruby-constant">Regexp</span>, <span class="ruby-identifier">regexp</span>
      <span class="ruby-ivar">@remove_stopwords_regexp</span> = <span class="ruby-identifier">regexp</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000329">
                    
                    <a name="M000329"></a><b>substitute_characters</b>(text)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000329_source')" id="l_M000329_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L119" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000329_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 119</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">substitute_characters</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">substituter?</span><span class="ruby-value">? </span><span class="ruby-identifier">substituter</span>.<span class="ruby-identifier">substitute</span>(<span class="ruby-identifier">text</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">text</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000328">
                    
                    <a name="M000328"></a><b>substitutes_characters_with</b>(substituter = CharacterSubstituters::WestEuropean.new)
                    
                </div>
                
                <div class="description">
                  <p>
Substitute Characters with this substituter.
</p>
<p>
Default is European Character substitution.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000328_source')" id="l_M000328_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L115" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000328_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 115</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">substitutes_characters_with</span> <span class="ruby-identifier">substituter</span> = <span class="ruby-constant">CharacterSubstituters</span><span class="ruby-operator">::</span><span class="ruby-constant">WestEuropean</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span> <span class="ruby-value str">&quot;The substitutes_characters_with option needs a character substituter, which responds to #substitute.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">substituter</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:substitute</span>)
      <span class="ruby-ivar">@substituter</span> = <span class="ruby-identifier">substituter</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000317">
                    
                    <a name="M000317"></a><b>to_s</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000317_source')" id="l_M000317_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L27" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000317_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 27</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
      <span class="ruby-identifier">reject_condition_location</span> = <span class="ruby-ivar">@reject_condition</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp re">/:(\d+) \(lambda\)/</span>, <span class="ruby-value">1</span>]
      <span class="ruby-value str">&quot;Removes characters: \#{@removes_characters_regexp ? \&quot;/\#{@removes_characters_regexp.source}/\&quot; : '-'}\nStopwords:          \#{@remove_stopwords_regexp ? \&quot;/\#{@remove_stopwords_regexp.source}/\&quot; : '-'}\nSplits text on:     \#{@splits_text_on.respond_to?(:source) ? \&quot;/\#{@splits_text_on.source}/\&quot; : (@splits_text_on ? @splits_text_on : '-')}\nNormalizes words:   \#{@normalizes_words_regexp_replaces ? @normalizes_words_regexp_replaces : '-'}\nRejects tokens?     \#{reject_condition_location ? \&quot;Yes, see line \#{reject_condition_location} in app/application.rb\&quot; : '-'}\nSubstitutes chars?  \#{@substituter ? \&quot;Yes, using \#{@substituter}.\&quot; : '-' }\nCase sensitive?     \#{@case_sensitive ? \&quot;Yes.\&quot; : \&quot;-\&quot;}\n&quot;</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000341">
                    
                    <a name="M000341"></a><b>tokenize</b>(text)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a number of tokens, generated from the given text, based on the
parameters given.
</p>
<p>
Returns:
</p>
<pre>
 [[:token1, :token2], [&quot;Original1&quot;, &quot;Original2&quot;]]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000341_source')" id="l_M000341_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L175" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000341_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 175</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tokenize</span> <span class="ruby-identifier">text</span>
      <span class="ruby-identifier">text</span>   = <span class="ruby-identifier">preprocess</span> <span class="ruby-identifier">text</span>  <span class="ruby-comment cmt"># processing the text</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">empty_tokens</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">blank?</span>
      <span class="ruby-identifier">words</span>  = <span class="ruby-identifier">pretokenize</span> <span class="ruby-identifier">text</span> <span class="ruby-comment cmt"># splitting and preparations for tokenizing</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">empty_tokens</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">tokens</span> = <span class="ruby-identifier">tokens_for</span> <span class="ruby-identifier">words</span> <span class="ruby-comment cmt"># creating tokens / strings</span>
      [<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">words</span>]
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000344">
                    
                    <a name="M000344"></a><b>tokens_for</b>(words)
                    
                </div>
                
                <div class="description">
                  <p>
Downcases.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000344_source')" id="l_M000344_source">show</a>
                        
                        | <a href="http://github.com/floere/picky/blob/a996bb628c5540c2f899a932144ee154a7a933b9/server/lib/picky/tokenizer.rb#L219" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000344_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/picky/tokenizer.rb, line 219</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tokens_for</span> <span class="ruby-identifier">words</span>
      <span class="ruby-identifier">words</span>.<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">word</span><span class="ruby-operator">|</span> <span class="ruby-identifier">word</span>.<span class="ruby-identifier">downcase!</span>; <span class="ruby-identifier">word</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">downcase?</span>
      <span class="ruby-identifier">words</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    